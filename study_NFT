IPFS 1gb 무료 사이트 : pinata.cloud   bippr   eksrnr23PNT!

https://ttfent.notion.site/NFT-JoCoding-06741e9e2cc448758099d818072367cb  nft 스마트컨트랙트로 만들기 .
https://ichi.pro/ko/ipfslo-erc-721-nftleul-guchughaneun-bangbeob-254443020417300

NFT 만들때는 보통 
몸통, 눈, 입 이렇게 파트별로 이미지를 제작한다음에 
프로그램으로 이 파트들을 조합해서 많은 양의 NFT를 만들어낼 수 있음.

minting : NFT를 처음 발행하는 것을 민팅이라고 함. 
IPFS : 분산형 데이터 저장 시스템.


figma.com       이미지 제작 툴
https://github.com/HashLips/hashlips_art_engine         이미지 자동 조합 모듈
vsCode에서 command prompt 터미널 열고 hashlips 폴더로 가서 모듈 설치 npm install 

https://github.com/syl-codes/nft-minting-contract   이두희 nft 스마트컨트랙트 오픈소스 
https://github.com/infotrex/bulk-upload-to-opensea   opensea 대량 자동 민팅 
https://github.com/JoCoding-Blockchain/kbirdz-contract  kip-17 스마트컨트랙트코드 
https://github.com/JoCoding-Blockchain/nft-json-maker   nft json 생성기. 



1. pinata에서 파일 upload 그러면 CID를 줌. 
2. json 생성기의 index.js에서 hiddenImgUrl = "ipfs://CID" 이렇게 해준다. 
3. json 파일을 생성하면 이 json파일들이 있는 폴더를 pinata에 업로드 해준다.
4. 그러면 각 json 파일마다 주소가 생긴다. ipfs/CID/1.json  이런식으로 
5. jocoding의 kip-17 스마트컨트랙트코드를 테스트 서버에 배포해보기 
6. setnotrevealeduri함수로  ipfs://CID/ 넣어주기 
7. airdropmint 함수 실행해 보기 
8. testnets.opensea.io 에서 실제로 내 지갑주소에 airdrop이 되었는지 확인 
9. 스마트컨트랙트를 배포한 지갑주소로 opensea 들어가면 내가 민팅한 nft들 관련 edit 가능 




ERC-721 표준 interface 
1.ERC721 메인 인터페이스
ERC165 : 어떤 스마트컨트랙트가 ERC721표준을 구현했다면 ERC165 인터페이스는 ERC721를 구현했다는 것을 증명해주는 역할.
3개의 이벤트 :
Transfer : 소유권 이전시 발생
Approval : 소유권 이전 승인시 발생 
ApprovalForAll : 소유권 이전 승인시 발생(모든 토큰)
9개의 함수 :
balanceOf(address _owner) : 계정의 토큰 소유 수.
ownerOf(uint256 _tokenId) : 토큰을 소유한 계정 

safeTransferFrom(address _from, address _to, uint256 _tokenId, bytes data)
safeTransferFrom(address _from, address _to, uint256 _tokenId)   : 유저가 토큰을 스마트컨트랙트 주소로 보낼때 한번 검증해주는 펑션. 

transferFrom(address _from, address _to, uint256 _tokenId) : 소유권 이전 // 안전하지 않을 수 있음.

approve(address _approve, uint256 _tokenId) : 소유권 이전 승인 계정 지정(한 토큰만)
setApproveForAll(address _operator, bool _approved) : 소유권 이전 승인 계정 지정(토큰 모두)
getApproved(uint256 _tokenId) : 소유권 이전 승인 계정 조회
isApprovedForAll(address _owner, address _operator) : 소유권 이전 승인 여부 조회 

2.ERC721 TokenReceiver
3.ERC721 Metadata
name() : 토큰 이름
symbol() : 토큰 심볼 
tokenURI(uint256 _tokenId) : 토큰 ID가 가리키는 리소스 정보(json)

4.ERC721 Enumerable 
totalSupply() : 발행된 유효한 토큰 수 
tokenByIndex(uint256 _index) : _index에 해당하는 토큰ID ,  인덱스는 _index < totalSupply() 이여야한다. 
tokenOfOwnerByIndex(address _owner, uint256 _index) : 소유 계정이 가진 토큰 중 인덱스에 해당하는 토큰ID 


5.library SafeMath, Address 
Address 라이브러리는 safeTransferFrom() 함수에서 어떤 주소가 컨트랙트 주소일 때 이를 구분하기 위해서 쓰는 라이브러리임.